<%= javascript_include_tag 'dataTablesSetting' %>
<%= javascript_include_tag 'tasksTable' %>

<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-tasks">
  <thead>
    <tr>
      <th class="col-xs-7 col-ms-7 col-md-7 col-lg-7">Task</th>
      <th class="col-xs-3 col-ms-3 col-md-3 col-lg-3">Deadline</th>
      <th class="col-xs-2 col-ms-2 col-md-2 col-lg-2">Done</th>
    </tr>
  </thead>
  <tbody>
    <% t_cards.each.with_index(1) do |t_card, index| %>
      <% row_class = index.even? ? "even" : "odd"  %>
      <tr class="gradeA <%= row_class %>">
          <td><%= t_card.title %></td>
          <td><%= t_card.deadline %></td>
          <td align="center"><%= check_box_tag '', '', t_card.status.closed?, { 'data-id' => t_card.id, 'data-url' => url, :onclick=>"$.post($(this).data('url')+ '/tasks/' + $(this).data('id') + '/toggle/');" } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<div class="row">
  <div class="col-sm-8">
    <div class="dataTables_info" role="status" aria-live="polite">
      <%= page_entries_info t_cards %>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="dataTables_paginate paging_simple_numbers">
      <%= paginate @t_cards, :remote => true, :params => {:action => 'refresh_tasks'}%>
    </div>
  </div>
</div>
